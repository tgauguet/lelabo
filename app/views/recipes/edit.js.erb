$('.recipe_values').html("<%= escape_javascript (render 'recipes/equilibrium_form', recipe: @recipe) %>");
$(".cost_form").html("<%= escape_javascript (render 'recipes/cost_form', recipe: @recipe) %>");
$(".q-forms").html("<%= escape_javascript (render 'recipes/quantities_form', recipe: @recipe, totals: @totals) %>");
$(".recipe_form").html("<%= escape_javascript (render 'recipes/form', recipe: @recipe) %>");
$(".recipe_pics").html("<%= escape_javascript (render 'recipes/pictures_form', recipe: @recipe) %>");
$(".show_recipe").html("<%= escape_javascript (render 'recipes/show', recipe: @recipe) %>");

$(document).ready(function(){
  $(".actions-cntnr").removeClass("no-scroll");
  $('[id*="ingredient_id"]').select2();
  $('[id*="sub_id"]').select2();
  // hide and show each form in edit view
  $('.recipe-btn').click(function(){
    $(".recipe-option").hide();
		$(".recipe-btn").removeClass("current-form");
		$(this).addClass("current-form");
    $("#div"+$(this).attr('target')).show();
  });
  // hide and show each cells
  $('.tab').click(function() {
    $('.q-f1, .q-f2, .tab').toggle();
  });
  // hide and show portions weights in select unit forms
  $('.trigger').click(function() {
      $('.content').hide();
      $('.' + $(this).data('rel')).show();
  });
  // hide and show form informations in select quantities forms
    $('.trigger2').click(function() {
        $('.content2').hide();
        $('.' + $(this).data('rel')).show();
    });
  // ADD JQUERY FOR QUANTITIES PAGES
  $(".pop-on").click(function(){
    $(".pop-qt").show();
    $(".actions-cntnr").addClass("no-scroll");
  });
  $(".pop-over-new").click(function(){
    $(".popover-new").show();
    $(".actions-cntnr").addClass("no-scroll");
  });
  $(".pop-off").click(function(){
    $(".select-measure").hide();
    $(".actions-cntnr").removeClass("no-scroll");
  });
	$(".pop-2").click(function(){
    $(".send-email").toggle();
  });
  $('.hide-pop').click(function(){
		$('.select-measure').hide();
    $(".actions-cntnr").removeClass("no-scroll");
	});
  $(".hide-meas").click(function(){
    $(".print-measure, .select-measure").hide();
		$(".recipe-values").show();
    $(".meas-env").removeClass("div-active");
  });
  $("#array-btn").bind("ajaxStart", function() {
    $(this).hide();
  });
  // disable and clear form weight if QS value is selected
  $('*[id^="recipe"]').on('change', function(){
    var  others = $(this).val();
    if(others == "QS"){
      $(this).parent().parent().find('input').attr('disabled','disabled');
      $(this).parent().parent().find('input').val("");
      }else{
      $(this).parent().parent().find('input').removeAttr('disabled');
    }
  });
});
