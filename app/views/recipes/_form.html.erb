<%= form_for(@recipe) do |f| %>
  <% if @recipe.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@recipe.errors.count, "error") %> prohibited this recipe from being saved:</h2>
      <ul>
      <% @recipe.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>
<div class="recipe-form">
  <div class="recipe-cntnr r-smll-cntnr">
    <h3>Informations générales</h3>
    <div class="composition-info to-left">
  		<p>*Nom</p>
  		<p>Catégorie</p>
  		<p>Auteur</p>
  		<p>Cuisson</p>
  	</div>
  	<div class="composition big-compo">
      <%= f.text_field :name, class: "basic-field top-rad" %>
      <%= f.select :category, ["Biscuit", "Chocolat", "Confiserie", "Crème", "Décors", "Dessert", "Ganache", "Glace", "Macaron", "Mousse", "Pâte", "Salé", "Sorbet"], include_blank: true, class: "basic-field special-top" %>
      <%= f.text_field :owner, class: "basic-field special-top", value: user_if_nil(@recipe) %>
      <%= f.text_field :baking, class: "basic-field special-top bot-rad" %>
  	</div>
    <br/><br/>
    <div class="composition-info to-left">
      <p>Prix de vente</p>
  		<p>Poids/Part</p>
      <p>Taux de TVA</p>
  	</div>
  	<div class="composition big-compo portion-cntnr">
      <%= f.text_field :portion_price, class: "basic-field portion-field" %>
      <%= f.select :portion, ["/Part"], class: "basic-field special-top" %>
      <%= f.text_field :portion_weight, class: "basic-field special-top" %>
      <%= f.text_field :vat, class: "basic-field special-top bot-rad" %>
  	</div>
    <div class="form-divs">
      <p class="custom-checkbox check-red"><%= f.check_box :stared %><span><%= image_tag "correct-symbol.png", alt: "checktag" %></span><%= image_tag "star.png", class: "stared-item" %></p>
      <p class="custom-checkbox check-red"><%= f.check_box :loved %><span><%= image_tag "correct-symbol.png", alt: "checktag" %></span><%= image_tag "heart-2.png", class: "stared-item" %></p>
    </div>
  </div>
  <div class="recipe-cntnr r-big-cntnr">
    <% if @user.basic_user? %>
      <h3>Ajoutez une image</h3>
      <p>Choisissez l'offre entreprise et profitez de cette fonctionnalité !</p>
      <p class="auto-btn cta-btn">+ S'ABONNER</p>
      <br/><br/><br/><br/><br/><br/>
    <% else %>
      <p>image</p>
      <%= image_tag(@recipe.image.url(:medium), class: "recipe-img") %>
      <%= f.file_field :image %>
      <br/><br/>
    <% end %>
  </div>
  <br/>
  <h3>Ingredients & process</h3>
  <div class="ingredients-add-ctnr">
    <div class="add_ingredients">
      <%= f.fields_for :quantities do |ff| %>
        <%= render "add_quantities", ff: ff %>
      <% end %>
      <p class="add_field"><%= create_new_field "+", f, :quantities %></p>
    </div>
    <div data-no-turbolink class="add_process">
      <%= f.cktext_area :process, placeholder: "procédé", class: "basic-field rounded-field ckeditor", ckeditor: { toolbar: "mini" } %>
    </div>
  </div><br/>
  <%= f.text_area :note, class: "basic-field rounded-field", placeholder: "Notes" %>
  <br/>
  <%= f.submit "ENREGISTRER", class: "auto-btn cta-btn" %>
  </div>
<% end %>
